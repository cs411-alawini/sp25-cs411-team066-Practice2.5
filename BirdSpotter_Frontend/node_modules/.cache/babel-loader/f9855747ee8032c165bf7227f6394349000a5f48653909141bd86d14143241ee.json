{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lmm20\\\\sp25-cs411-team066\\\\BirdSpotter_Frontend\\\\src\\\\pages\\\\Upload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { usStates } from \"../utils/dummyData\";\nimport \"../styles/pages/Upload.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL;\nfunction Upload() {\n  _s();\n  const navigate = useNavigate();\n  const fileInputRef = useRef(null);\n  const [formData, setFormData] = useState({\n    bird_scientific_name: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    Country: \"United States\",\n    State: \"\",\n    event_time: new Date().toISOString()\n  });\n  const [birdImage, setBirdImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [imageError, setImageError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const validateCoordinates = (lat, lng) => {\n    var _lat$toString$split$, _lng$toString$split$;\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error(\"Coordinates must be numbers\");\n    }\n    if (lat < -90 || lat > 90) {\n      throw new Error(\"Latitude must be between -90 and 90 degrees\");\n    }\n    if (lng < -180 || lng > 180) {\n      throw new Error(\"Longitude must be between -180 and 180 degrees\");\n    }\n    if (((_lat$toString$split$ = lat.toString().split(\".\")[1]) === null || _lat$toString$split$ === void 0 ? void 0 : _lat$toString$split$.length) > 6 || ((_lng$toString$split$ = lng.toString().split(\".\")[1]) === null || _lng$toString$split$ === void 0 ? void 0 : _lng$toString$split$.length) > 6) {\n      throw new Error(\"Coordinates can have at most 6 decimal places\");\n    }\n  };\n  const handleImageChange = event => {\n    const file = event.target.files[0];\n    setImageError(null);\n    if (!file) {\n      setBirdImage(null);\n      setImagePreview(null);\n      return;\n    }\n\n    // Check file type\n    if (!file.type.match(\"image.*\")) {\n      setImageError(\"Please upload an image file (JPEG, PNG, etc.)\");\n      return;\n    }\n\n    // Check file size (5MB limit)\n    const fileSize = file.size / 1024 / 1024; // size in MB\n    if (fileSize > 5) {\n      setImageError(\"Image size must be less than 5MB\");\n      return;\n    }\n\n    // Create image preview\n    const reader = new FileReader();\n    reader.onload = e => {\n      setImagePreview(e.target.result);\n    };\n    reader.readAsDataURL(file);\n    setBirdImage(file);\n  };\n  const handleRemoveImage = () => {\n    setBirdImage(null);\n    setImagePreview(null);\n    setImageError(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n  const simulateImageUpload = async image => {\n    // TODO: Replace with actual image upload to Google Cloud Storage\n    // const formData = new FormData();\n    // formData.append('image', image);\n    //\n    // return fetch('/api/upload/image', {\n    //   method: 'POST',\n    //   body: formData,\n    //   onUploadProgress: (progressEvent) => {\n    //     const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n    //     setUploadProgress(percentCompleted);\n    //   }\n    // }).then(response => response.json())\n    //   .then(data => data.imageUrl);\n\n    // This function simulates uploading an image to Google Cloud\n    return new Promise(resolve => {\n      const totalSteps = 10;\n      let currentStep = 0;\n      const interval = setInterval(() => {\n        currentStep++;\n        setUploadProgress(Math.round(currentStep / totalSteps * 100));\n        if (currentStep >= totalSteps) {\n          clearInterval(interval);\n          // Return a mock image URL\n          resolve(`https://storage.googleapis.com/mock-bucket/bird-${Date.now()}.jpg`);\n        }\n      }, 200);\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n    setUploadProgress(0);\n    try {\n      const lat = parseFloat(formData.latitude);\n      const lng = parseFloat(formData.longitude);\n      validateCoordinates(lat, lng);\n      if (!formData.bird_scientific_name) {\n        throw new Error(\"Please enter the bird scientific name\");\n      }\n      if (!formData.State) {\n        throw new Error(\"Please select a state\");\n      }\n      if (!birdImage) {\n        throw new Error(\"Please upload a bird image\");\n      }\n\n      // 创建FormData对象用于上传图片\n      const formDataToSend = new FormData();\n      formDataToSend.append(\"file\", birdImage);\n      formDataToSend.append(\"bird_scientific_name\", formData.bird_scientific_name);\n      formDataToSend.append(\"latitude\", lat);\n      formDataToSend.append(\"longitude\", lng);\n      formDataToSend.append(\"country\", formData.Country);\n      formDataToSend.append(\"state\", formData.State);\n      formDataToSend.append(\"user_id\", \"1\"); // TODO: 从用户上下文获取实际用户ID\n\n      // 上传数据到API\n      const response = await fetch(`${API_URL}/upload`, {\n        method: \"POST\",\n        body: formDataToSend\n      });\n      const responseData = await response.json();\n      if (!response.ok) {\n        throw new Error(responseData.message || \"Upload failed\");\n      }\n      if (responseData.status !== \"success\") {\n        throw new Error(responseData.message || \"Upload failed\");\n      }\n      console.log(\"Upload successful:\", responseData.data);\n      navigate(\"/home\");\n    } catch (err) {\n      console.error(\"Upload error:\", err);\n      setError(err.message || \"Upload failed\");\n    } finally {\n      setLoading(false);\n      setUploadProgress(0);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Upload Bird Sighting\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 4\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"upload-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"bird_scientific_name\",\n          children: \"Bird Scientific Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"bird_scientific_name\",\n          name: \"bird_scientific_name\",\n          value: formData.bird_scientific_name,\n          onChange: handleInputChange,\n          required: true,\n          className: \"form-control\",\n          placeholder: \"Enter bird scientific name (e.g., Corvus brachyrhynchos)\",\n          maxLength: 150\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"bird_image\",\n          children: \"Bird Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-upload-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"bird_image\",\n            name: \"bird_image\",\n            accept: \"image/*\",\n            onChange: handleImageChange,\n            className: \"form-control file-input\",\n            ref: fileInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-upload-help\",\n            children: \"Maximum file size: 5MB. Accepted formats: JPEG, PNG, GIF.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 7\n          }, this), imageError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-error\",\n            children: imageError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 22\n          }, this), imagePreview && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-preview-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: imagePreview,\n              alt: \"Bird preview\",\n              className: \"image-preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"remove-image-btn\",\n              onClick: handleRemoveImage,\n              children: \"Remove Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"latitude\",\n          children: \"Latitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"latitude\",\n          name: \"latitude\",\n          value: formData.latitude,\n          onChange: handleInputChange,\n          step: \"0.000001\",\n          required: true,\n          className: \"form-control\",\n          placeholder: \"Enter latitude (-90 to 90)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"longitude\",\n          children: \"Longitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"longitude\",\n          name: \"longitude\",\n          value: formData.longitude,\n          onChange: handleInputChange,\n          step: \"0.000001\",\n          required: true,\n          className: \"form-control\",\n          placeholder: \"Enter longitude (-180 to 180)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"Country\",\n          children: \"Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"Country\",\n          name: \"Country\",\n          value: formData.Country,\n          onChange: handleInputChange,\n          required: true,\n          className: \"form-control\",\n          disabled: true,\n          children: /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"United States\",\n            children: \"United States\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"State\",\n          children: \"State\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"State\",\n          name: \"State\",\n          value: formData.State,\n          onChange: handleInputChange,\n          required: true,\n          className: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 7\n          }, this), usStates.map(state => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: state.name,\n            children: state.name\n          }, state.code, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 8\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 5\n      }, this), loading && uploadProgress > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${uploadProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-text\",\n          children: [\"Uploading image: \", uploadProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-button\",\n        disabled: loading,\n        children: loading ? \"Uploading...\" : \"Upload Sighting\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 3\n  }, this);\n}\n_s(Upload, \"KshuJP0pZaewb2jnu5fUJunXzL8=\", false, function () {\n  return [useNavigate];\n});\n_c = Upload;\nexport default Upload;\nvar _c;\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"names":["React","useState","useRef","useNavigate","usStates","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","Upload","_s","navigate","fileInputRef","formData","setFormData","bird_scientific_name","latitude","longitude","Country","State","event_time","Date","toISOString","birdImage","setBirdImage","imagePreview","setImagePreview","imageError","setImageError","loading","setLoading","error","setError","uploadProgress","setUploadProgress","handleInputChange","event","name","value","target","prev","validateCoordinates","lat","lng","_lat$toString$split$","_lng$toString$split$","isNaN","Error","toString","split","length","handleImageChange","file","files","type","match","fileSize","size","reader","FileReader","onload","e","result","readAsDataURL","handleRemoveImage","current","simulateImageUpload","image","Promise","resolve","totalSteps","currentStep","interval","setInterval","Math","round","clearInterval","now","handleSubmit","preventDefault","parseFloat","formDataToSend","FormData","append","response","fetch","method","body","responseData","json","ok","message","status","console","log","data","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","onChange","required","placeholder","maxLength","accept","ref","src","alt","onClick","step","disabled","map","state","code","style","width","_c","$RefreshReg$"],"sources":["C:/Users/lmm20/sp25-cs411-team066/BirdSpotter_Frontend/src/pages/Upload.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { usStates } from \"../utils/dummyData\";\r\nimport \"../styles/pages/Upload.css\";\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction Upload() {\r\n\tconst navigate = useNavigate();\r\n\tconst fileInputRef = useRef(null);\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tbird_scientific_name: \"\",\r\n\t\tlatitude: \"\",\r\n\t\tlongitude: \"\",\r\n\t\tCountry: \"United States\",\r\n\t\tState: \"\",\r\n\t\tevent_time: new Date().toISOString(),\r\n\t});\r\n\r\n\tconst [birdImage, setBirdImage] = useState(null);\r\n\tconst [imagePreview, setImagePreview] = useState(null);\r\n\tconst [imageError, setImageError] = useState(null);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [error, setError] = useState(null);\r\n\tconst [uploadProgress, setUploadProgress] = useState(0);\r\n\r\n\tconst handleInputChange = (event) => {\r\n\t\tconst { name, value } = event.target;\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[name]: value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst validateCoordinates = (lat, lng) => {\r\n\t\tif (isNaN(lat) || isNaN(lng)) {\r\n\t\t\tthrow new Error(\"Coordinates must be numbers\");\r\n\t\t}\r\n\t\tif (lat < -90 || lat > 90) {\r\n\t\t\tthrow new Error(\"Latitude must be between -90 and 90 degrees\");\r\n\t\t}\r\n\t\tif (lng < -180 || lng > 180) {\r\n\t\t\tthrow new Error(\"Longitude must be between -180 and 180 degrees\");\r\n\t\t}\r\n\t\tif (\r\n\t\t\tlat.toString().split(\".\")[1]?.length > 6 ||\r\n\t\t\tlng.toString().split(\".\")[1]?.length > 6\r\n\t\t) {\r\n\t\t\tthrow new Error(\"Coordinates can have at most 6 decimal places\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleImageChange = (event) => {\r\n\t\tconst file = event.target.files[0];\r\n\t\tsetImageError(null);\r\n\r\n\t\tif (!file) {\r\n\t\t\tsetBirdImage(null);\r\n\t\t\tsetImagePreview(null);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check file type\r\n\t\tif (!file.type.match(\"image.*\")) {\r\n\t\t\tsetImageError(\"Please upload an image file (JPEG, PNG, etc.)\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Check file size (5MB limit)\r\n\t\tconst fileSize = file.size / 1024 / 1024; // size in MB\r\n\t\tif (fileSize > 5) {\r\n\t\t\tsetImageError(\"Image size must be less than 5MB\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Create image preview\r\n\t\tconst reader = new FileReader();\r\n\t\treader.onload = (e) => {\r\n\t\t\tsetImagePreview(e.target.result);\r\n\t\t};\r\n\t\treader.readAsDataURL(file);\r\n\r\n\t\tsetBirdImage(file);\r\n\t};\r\n\r\n\tconst handleRemoveImage = () => {\r\n\t\tsetBirdImage(null);\r\n\t\tsetImagePreview(null);\r\n\t\tsetImageError(null);\r\n\t\tif (fileInputRef.current) {\r\n\t\t\tfileInputRef.current.value = \"\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst simulateImageUpload = async (image) => {\r\n\t\t// TODO: Replace with actual image upload to Google Cloud Storage\r\n\t\t// const formData = new FormData();\r\n\t\t// formData.append('image', image);\r\n\t\t//\r\n\t\t// return fetch('/api/upload/image', {\r\n\t\t//   method: 'POST',\r\n\t\t//   body: formData,\r\n\t\t//   onUploadProgress: (progressEvent) => {\r\n\t\t//     const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n\t\t//     setUploadProgress(percentCompleted);\r\n\t\t//   }\r\n\t\t// }).then(response => response.json())\r\n\t\t//   .then(data => data.imageUrl);\r\n\r\n\t\t// This function simulates uploading an image to Google Cloud\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tconst totalSteps = 10;\r\n\t\t\tlet currentStep = 0;\r\n\r\n\t\t\tconst interval = setInterval(() => {\r\n\t\t\t\tcurrentStep++;\r\n\t\t\t\tsetUploadProgress(Math.round((currentStep / totalSteps) * 100));\r\n\r\n\t\t\t\tif (currentStep >= totalSteps) {\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t// Return a mock image URL\r\n\t\t\t\t\tresolve(\r\n\t\t\t\t\t\t`https://storage.googleapis.com/mock-bucket/bird-${Date.now()}.jpg`\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}, 200);\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\t\tsetUploadProgress(0);\r\n\r\n\t\ttry {\r\n\t\t\tconst lat = parseFloat(formData.latitude);\r\n\t\t\tconst lng = parseFloat(formData.longitude);\r\n\t\t\tvalidateCoordinates(lat, lng);\r\n\r\n\t\t\tif (!formData.bird_scientific_name) {\r\n\t\t\t\tthrow new Error(\"Please enter the bird scientific name\");\r\n\t\t\t}\r\n\r\n\t\t\tif (!formData.State) {\r\n\t\t\t\tthrow new Error(\"Please select a state\");\r\n\t\t\t}\r\n\r\n\t\t\tif (!birdImage) {\r\n\t\t\t\tthrow new Error(\"Please upload a bird image\");\r\n\t\t\t}\r\n\r\n\t\t\t// 创建FormData对象用于上传图片\r\n\t\t\tconst formDataToSend = new FormData();\r\n\t\t\tformDataToSend.append(\"file\", birdImage);\r\n\t\t\tformDataToSend.append(\"bird_scientific_name\", formData.bird_scientific_name);\r\n\t\t\tformDataToSend.append(\"latitude\", lat);\r\n\t\t\tformDataToSend.append(\"longitude\", lng);\r\n\t\t\tformDataToSend.append(\"country\", formData.Country);\r\n\t\t\tformDataToSend.append(\"state\", formData.State);\r\n\t\t\tformDataToSend.append(\"user_id\", \"1\"); // TODO: 从用户上下文获取实际用户ID\r\n\r\n\t\t\t// 上传数据到API\r\n\t\t\tconst response = await fetch(`${API_URL}/upload`, {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tbody: formDataToSend,\r\n\t\t\t});\r\n\r\n\t\t\tconst responseData = await response.json();\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(responseData.message || \"Upload failed\");\r\n\t\t\t}\r\n\r\n\t\t\tif (responseData.status !== \"success\") {\r\n\t\t\t\tthrow new Error(responseData.message || \"Upload failed\");\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"Upload successful:\", responseData.data);\r\n\t\t\tnavigate(\"/home\");\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(\"Upload error:\", err);\r\n\t\t\tsetError(err.message || \"Upload failed\");\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetUploadProgress(0);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"upload-container\">\r\n\t\t\t<h1>Upload Bird Sighting</h1>\r\n\t\t\t{error && <div className=\"error-message\">{error}</div>}\r\n\t\t\t<form onSubmit={handleSubmit} className=\"upload-form\">\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"bird_scientific_name\">Bird Scientific Name</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tid=\"bird_scientific_name\"\r\n\t\t\t\t\t\tname=\"bird_scientific_name\"\r\n\t\t\t\t\t\tvalue={formData.bird_scientific_name}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Enter bird scientific name (e.g., Corvus brachyrhynchos)\"\r\n\t\t\t\t\t\tmaxLength={150}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"bird_image\">Bird Image</label>\r\n\t\t\t\t\t<div className=\"image-upload-container\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\tid=\"bird_image\"\r\n\t\t\t\t\t\t\tname=\"bird_image\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tonChange={handleImageChange}\r\n\t\t\t\t\t\t\tclassName=\"form-control file-input\"\r\n\t\t\t\t\t\t\tref={fileInputRef}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"image-upload-help\">\r\n\t\t\t\t\t\t\tMaximum file size: 5MB. Accepted formats: JPEG, PNG, GIF.\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{imageError && <div className=\"image-error\">{imageError}</div>}\r\n\r\n\t\t\t\t\t\t{imagePreview && (\r\n\t\t\t\t\t\t\t<div className=\"image-preview-container\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={imagePreview}\r\n\t\t\t\t\t\t\t\t\talt=\"Bird preview\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"image-preview\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"remove-image-btn\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleRemoveImage}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRemove Image\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"latitude\">Latitude</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tid=\"latitude\"\r\n\t\t\t\t\t\tname=\"latitude\"\r\n\t\t\t\t\t\tvalue={formData.latitude}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\tstep=\"0.000001\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Enter latitude (-90 to 90)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"longitude\">Longitude</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tid=\"longitude\"\r\n\t\t\t\t\t\tname=\"longitude\"\r\n\t\t\t\t\t\tvalue={formData.longitude}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\tstep=\"0.000001\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tplaceholder=\"Enter longitude (-180 to 180)\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"Country\">Country</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"Country\"\r\n\t\t\t\t\t\tname=\"Country\"\r\n\t\t\t\t\t\tvalue={formData.Country}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"United States\">United States</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"State\">State</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tid=\"State\"\r\n\t\t\t\t\t\tname=\"State\"\r\n\t\t\t\t\t\tvalue={formData.State}\r\n\t\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\">Select a state</option>\r\n\t\t\t\t\t\t{usStates.map((state) => (\r\n\t\t\t\t\t\t\t<option key={state.code} value={state.name}>\r\n\t\t\t\t\t\t\t\t{state.name}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{loading && uploadProgress > 0 && (\r\n\t\t\t\t\t<div className=\"upload-progress\">\r\n\t\t\t\t\t\t<div className=\"progress-bar\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"progress-fill\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: `${uploadProgress}%` }}\r\n\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"progress-text\">\r\n\t\t\t\t\t\t\tUploading image: {uploadProgress}%\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<button type=\"submit\" className=\"submit-button\" disabled={loading}>\r\n\t\t\t\t\t{loading ? \"Uploading...\" : \"Upload Sighting\"}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Upload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}